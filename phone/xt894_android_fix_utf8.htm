<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><script type="text/javascript" src="../page_head.js"></script>

<h3><a href="../phone.htm">手機</a> - Motorola XT894 - Android - <b>解決proot-distro update-locale: Error: invalid locale settings: LANG=en_US.UTF-8問題</b></h3>
<hr size="1"><br>
<p>
問題如下：
</p>
<pre>
Generating locale (this might take a while)
    en_US.UTF-8
Generate complete.
*** update-locale: Error: invalid locale settings: LANG=en_US.UTF-8
[!] Exiting due to failure.
</pre><br>

<p>
解法如下：
</p>
<pre>
# vim /data/data/com.termux/files/usr/etc/proot-distro/debian.sh
    distro_setup() {
        # Configure en_US.UTF-8 locale.
        sed -i -E 's/#[[:space:]]?(en_US.UTF-8[[:space:]]+UTF-8)/\1/g' ./etc/locale.gen
        run_proot_cmd DEBIAN_FRONTEND=noninteractive #dpkg-reconfigure locales
    }
</pre>

<br><script type="text/javascript" src="../tail.js"></script>
