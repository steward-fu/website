<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><script type="text/javascript" src="../page_head.js"></script>

<h3><a href="../index.htm">掌機</a> - Pandora(Rebirth) - SuperZaxxon - <b>解決error: isl_space_dim was not declared in this scope問題</b></h3>
<hr size="1"><br>
<p>
參考資訊：<br>
https://gcc.gnu.org/bugzilla/show_bug.cgi?id=86724<br><br>

問題如下：
</p>
<pre>
../../gcc-6.3.0/gcc/graphite-dependences.c: In function 'isl_map* constrain_domain(isl_map*, isl_set*)':
../../gcc-6.3.0/gcc/graphite-dependences.c:48: error: 'isl_space_get_tuple_id' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-dependences.c:51: error: 'isl_space_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-dependences.c: In function 'isl_stat max_number_of_out_dimensions(isl_map*, void*)':
../../gcc-6.3.0/gcc/graphite-dependences.c:201: error: 'isl_space_dim' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-dependences.c:207: error: 'isl_space_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-dependences.c: In function 'isl_map* extend_map(isl_map*, int)':
../../gcc-6.3.0/gcc/graphite-dependences.c:217: error: 'isl_space_dim' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-dependences.c:219: error: 'isl_space_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-dependences.c: In function 'bool carries_deps(isl_union_map*, isl_union_map*, int)':
../../gcc-6.3.0/gcc/graphite-dependences.c:294: error: 'isl_space_range' was not declared in this scope
make[3]: *** [graphite-dependences.o] Error 1
make[3]: *** Waiting for unfinished jobs....
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c: In function 'void ivs_params_clear(ivs_params&amp;)':
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:114: error: 'isl_id_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c: In member function 'tree_node* translate_isl_ast_to_gimple::gcc_expression_from_isl_ast_expr_id(tree_node*, isl_ast_expr*, ivs_params&amp;)':
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:322: error: 'isl_id_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c: In member function 'loop* translate_isl_ast_to_gimple::graphite_create_new_loop(edge_def*, isl_ast_node*, loop*, tree_node*, tree_node*, tree_node*, ivs_params&amp;)':
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:660: error: 'isl_id_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c: In member function 'edge_def* translate_isl_ast_to_gimple::translate_isl_ast_for_loop(loop*, isl_ast_node*, edge_def*, tree_node*, tree_node*, tree_node*, ivs_params&amp;)':
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:700: error: 'isl_id_get_user' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:703: error: 'isl_id_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c: In member function 'edge_def* translate_isl_ast_to_gimple::translate_isl_ast_node_user(isl_ast_node*, edge_def*, ivs_params&amp;)':
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:907: error: 'isl_id_get_user' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:913: error: 'isl_id_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c: In function 'isl_id* ast_build_before_for(isl_ast_build*, void*)':
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:2894: error: 'isl_space_dim' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:2898: error: 'isl_space_free' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:2899: error: 'isl_id_alloc' was not declared in this scope
../../gcc-6.3.0/gcc/vec.h: In static member function 'static size_t vec&lt;T, A, vl_embed&gt;::embedded_size(unsigned int) [with T = std::pair&lt;gphi*, gphi*&gt;, A = va_heap]':
../../gcc-6.3.0/gcc/vec.h:286:   instantiated from 'static void va_heap::reserve(vec&lt;T, va_heap, vl_embed&gt;*&amp;, unsigned int, bool) [with T = std::pair&lt;gphi*, gphi*&gt;]'
../../gcc-6.3.0/gcc/vec.h:1406:   instantiated from 'bool vec&lt;T, va_heap, vl_ptr&gt;::reserve(unsigned int, bool) [with T = std::pair&lt;gphi*, gphi*&gt;]'
../../gcc-6.3.0/gcc/vec.h:1515:   instantiated from 'T* vec&lt;T, va_heap, vl_ptr&gt;::safe_push(const T&amp;) [with T = std::pair&lt;gphi*, gphi*&gt;]'
../../gcc-6.3.0/gcc/graphite-isl-ast-to-gimple.c:1877:   instantiated from here
../../gcc-6.3.0/gcc/vec.h:1026: warning: invalid access to non-static data member 'vec&lt;std::pair&lt;gphi*, gphi*&gt;, va_heap, vl_embed&gt;::m_vecdata' of NULL object
../../gcc-6.3.0/gcc/vec.h:1026: warning: (perhaps the 'offsetof' macro was used incorrectly)
make[3]: *** [graphite-isl-ast-to-gimple.o] Error 1
../../gcc-6.3.0/gcc/graphite-optimize-isl.c: In function 'isl_schedule_node* get_schedule_for_node_st(isl_schedule_node*, void*)':
../../gcc-6.3.0/gcc/graphite-optimize-isl.c:59: error: 'isl_space_dim' was not declared in this scope
../../gcc-6.3.0/gcc/graphite-optimize-isl.c:62: error: 'isl_space_free' was not declared in this scope
make[3]: *** [graphite-optimize-isl.o] Error 1
</pre><br>

<p>
解法如下：
</p>
<pre>
$ vim ../gcc-6.3.0/gcc/graphite.h
    #ifndef GCC_GRAPHITE_POLY_H
    #define GCC_GRAPHITE_POLY_H

    #include "sese.h"
    #include &lt;isl/id.h&gt;
    #include &lt;isl/space.h&gt;
    #include &lt;isl/options.h&gt;
    #include &lt;isl/ctx.h&gt;
    #include &lt;isl/val_gmp.h&gt;
    #include &lt;isl/set.h&gt;
    #include &lt;isl/union_set.h&gt;
    #include &lt;isl/map.h&gt;
    #include &lt;isl/union_map.h&gt;
    #include &lt;isl/aff.h&gt;
    #include &lt;isl/constraint.h&gt;
    #include &lt;isl/flow.h&gt;
    #include &lt;isl/ilp.h&gt;
    #include &lt;isl/schedule.h&gt;
    #include &lt;isl/ast_build.h&gt;
</pre>

<br><script type="text/javascript" src="../tail.js"></script>
