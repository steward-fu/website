<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><script type="text/javascript" src="../page_head.js"></script>

<h3><a href="../driver.htm">驅動程式</a> - Linux Device Driver(LDD) - C/C++ (QEMU) - <b>開發環境</b></h3>
<hr size="1"><br>
<p>
參考資訊：<br>
https://cdn.kernel.org/pub/linux/kernel/<br>
https://www.qemu.org/docs/master/system/riscv/virt.html<br>
https://jasonblog.github.io/note/arm_emulation/compiling_linux_kernel_for_qemu_arm_emulator.html<br><br>

</p>
<pre>
$ cd
$ wget https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.0.1.tar.gz
$ tar xvf linux-6.0.1.tar.gz

$ cd linux-6.0.1
$ make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- versatile_defconfig
$ make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- menuconfig
$ make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- all -j4
$ qemu-system-arm -M versatilepb -m 128M -kernel arch/arm/boot/zImage -dtb ./arch/arm/boot/dts/versatile-pb.dtb -append "root=/dev/sda rootwait"
</pre>
<p>
<img src="ldd_cpp_qemu_setup/1.jpg" class="maxSize">
</p>

<br><script type="text/javascript" src="../tail.js"></script>
